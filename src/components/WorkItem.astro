---
import type { Work } from '../content/data';
import Badge from './common/Badge.astro';

interface Props extends Work {}

const { company, link, roles, description, achievements, badges } = Astro.props;
---

<article role="article">
  <div class="rounded-lg bg-card text-text-secondary py-1 print:py-0">
    <div class="flex flex-col">
      <div class="flex items-center justify-between text-base mb-1">
        <h3 class="inline-flex items-center justify-center font-semibold leading-none print:text-sm">
          <a
            class="hover:underline"
            href={link}
            target="_blank"
            rel="noopener noreferrer"
            aria-label={`${company} company link`}
          >
            {company}
          </a>
        </h3>
      </div>
      <div class="space-y-0">
        {roles.map(({title, start, end})=>
             <div class="flex items-center gap-1">
                  <h4 class="font-mono text-sm font-semibold print:text-[12px]">
                      {title}
                  </h4>
                  <div  class="text-sm font-mono tabular-nums text-text-primary/75"
                       aria-label=`Employment period: ${start} to ${end ?? 'Present'}`>
                    ({start} - {end ?? 'Present'})
                  </div>
             </div>
                )}
      </div>
    </div>
    <div class="text-pretty font-mono text-sm text-text-secondary">
      <div class="mt-1 text-xm text-text-secondary/80 print:mt-1 print:text-[12px] text-pretty">
        {description}
        <ul class="list-inside list-disc">
          {achievements?.map((achievement) => (
                    <li>{achievement}</li>
                ))}
        </ul>
      </div>
      <div class="mt-2">
        <ul class="flex list-none flex-wrap gap-1 p-0" aria-label="Technologies used">
          {badges?.map((badge) => (
                            <li>
                                <Badge variant="secondary">{badge}</Badge>
                            </li>
                    ))}
        </ul>
      </div>
    </div>
  </div>
</article>
